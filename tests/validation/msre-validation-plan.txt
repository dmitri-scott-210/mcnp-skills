MSRE Full Core Model Generation & Validation Plan

 Overview

 Generate a complete MCNP model of the Molten Salt Reactor Experiment (MSRE) from scratch using only design specifications extracted
  from published literature. This will definitively prove the MCNP skills can create production-quality models from design specs
 alone, unlike the GT-MHR which adapted an existing reference model.

 ---
 Phase 1: Create MSRE Design Specification Document

 File: tests/validation/msre_design_spec.md

 1.1 Core Geometry Parameters

 - Reactor vessel: Cylindrical, ~4.5 ft diameter (137.16 cm), 5.5 ft height (167.64 cm)
 - Core region: Effective diameter ~70.485 cm radius, height 163.37 cm
 - Fuel volume fraction: 0.225 (22.5% fuel salt, 77.5% graphite)
 - Lower plenum: 12.954 cm height
 - Upper plenum: 21.336 cm height

 1.2 Graphite Moderator Configuration

 - Material: CGB graphite (high-density, low permeability)
 - Stringer geometry: 5.08 cm × 5.08 cm square cross-section
 - Fuel channels: 2.642 cm diameter grooves on stringer faces
 - Number of channels: ~1140 fuel channels in core
 - Lattice arrangement: Vertical graphite bars with machined fuel passages
 - Graphite density: ~1.84 g/cm³ (typical for CGB grade)

 1.3 Fuel Salt Composition & Properties

 - Composition (mole %): 65% LiF, 29.1% BeF2, 5% ZrF4, 0.9% UF4
 - U-235 enrichment: 33% (initial fuel)
 - Lithium enrichment: 99.99% ⁷Li (isotopically pure)
 - Density: 2.27 g/cm³ (142 lb/ft³)
 - Operating temperature: 650°C
 - Convert to atom densities for MCNP material cards

 1.4 Structural Materials

 - Hastelloy-N (INOR-8): Vessel and structural components
   - Ni: 71 wt%
   - Mo: 16 wt%
   - Cr: 7 wt%
   - Fe: 5 wt%
   - Others: 1 wt%
   - Density: ~8.86 g/cm³

 1.5 Benchmark Parameters (MSRE-MSR-RESR-001, IRPhEP 2019)

 - Experimental k-eff: 1.00000 (by definition, zero-power critical)
 - Calculated k-eff (expected): ~1.020 ± 0.002 (2% high - known issue with thermal graphite)
 - Configuration: Zero-power first critical experiment with ²³⁵U
 - Operating power: 7.4 MWth (design: 10 MWth)
 - Neutron spectrum: Thermal spectrum dominated
 - Key uncertainties: Graphite density, ⁶Li content, carbon cross-sections

 ---
 Phase 2: Generate MSRE MCNP Model Using Skills

 File: tests/validation/generated_msre.inp

 2.1 Model Structure (3-level hierarchy)

 Level 1: Graphite Stringer Unit Cell
 - Single graphite stringer with fuel channels
 - 5.08 cm × 5.08 cm × (unit height) graphite bar
 - Fuel channel grooves (~2.642 cm diameter equivalent)
 - Use mcnp-geometry-builder for cell/surface cards

 Level 2: Core Lattice
 - Square or hexagonal lattice of graphite stringers
 - Fill lattice with fuel salt in channels, graphite in bars
 - Use mcnp-lattice-builder for LAT/FILL arrays

 Level 3: Full Reactor
 - Core region (lattice-filled)
 - Upper plenum (void)
 - Lower plenum (void)
 - Hastelloy-N vessel (cylindrical)
 - Outside world (imp:n=0)

 2.2 Skills to Use

 1. mcnp-input-builder: Create title, MODE, KCODE structure
 2. mcnp-geometry-builder: Build cell cards (3 levels)
 3. mcnp-lattice-builder: Create graphite stringer lattice
 4. mcnp-material-builder: Define fuel salt, graphite, Hastelloy-N
 5. mcnp-source-builder: KCODE + KSRC for criticality
 6. mcnp-physics-builder: MODE N, thermal scattering (grph.60t)

 2.3 Critical Modeling Decisions

 Simplification approach:
 - Represent ~1140 fuel channels as homogenized core OR discrete lattice
 - If discrete: Use representative lattice pattern
 - If homogenized: Calculate effective fuel-graphite mixture

 Materials:
 - m1: Fuel salt (LiF-BeF2-ZrF4-UF4 at operating temperature)
 - m2: CGB graphite (with grph.60t thermal scattering)
 - m3: Hastelloy-N vessel

 Physics:
 - MODE N (neutron transport only)
 - TMP card for 650°C (~8.1 MeV = 0.056 MeV actual kT)
 - grph.60t for graphite thermal scattering

 ---
 Phase 3: Validate Generated Model

 File: tests/validation/msre_validation_report.md

 3.1 Input Syntax Validation

 - mcnp-input-validator: Check syntax, cross-references, format
 - mcnp-geometry-checker: Verify no overlaps/gaps
 - mcnp-cross-reference-checker: Validate material/surface refs
 - mcnp-cell-checker: Verify LAT/FILL specifications
 - mcnp-physics-validator: Check MODE, cross-sections, temperature
 - mcnp-best-practices-checker: Review against Chapter 3.4 checklist

 3.2 Expected Results

 - k-eff prediction: 1.015 - 1.025 (expect 2% high per IRPhEP benchmark)
 - Validation criteria: Within ±0.02 of benchmark (acceptable given known carbon XS issue)
 - Statistical quality: All 10 statistical checks passing
 - No geometry errors: Zero lost particles

 3.3 Comparison to Benchmark Data

 - Compare to MSRE-MSR-RESR-001 (IRPhEP)
 - Document expected vs actual k-eff
 - Note that 2% overestimate is KNOWN issue with modern carbon cross-sections
 - Validate neutron spectrum (if calculated)

 ---
 Phase 4: Document Model Generation Process

 File: tests/validation/msre_model_generation_log.md

 4.1 Track Which Skills Used

 - Document each skill invoked
 - Show input parameters to each skill
 - Capture generated MCNP cards
 - Demonstrate end-to-end workflow

 4.2 Design Decisions

 - Why homogenized vs discrete lattice?
 - Material temperature treatment
 - Boundary condition choices
 - Source placement strategy

 ---
 Phase 5: Benchmark Comparison Report

 File: tests/validation/msre_benchmark_comparison.md

 5.1 Compare Against Published Results

 - IRPhEP MSRE-MSR-RESR-001: k-eff, uncertainties
 - SCALE/Serpent studies: Reported k-eff values (~1.020-1.032)
 - Literature values: Any other published MSRE MCNP results

 5.2 Quality Metrics

 - Structural accuracy: Geometry matches published specs (±5%)
 - Material accuracy: Compositions match ORNL reports (±1%)
 - Physics accuracy: k-eff within expected range (1.015-1.025)
 - Statistical quality: All checks passing, σ < 0.0005

 ---
 Success Criteria

 ✅ Must Achieve:

 1. Generate complete MCNP input from design spec only (no reference MCNP file)
 2. All validation checks pass (syntax, geometry, physics, best practices)
 3. k-eff in range 1.015 - 1.025 (within known 2% overestimate)
 4. Zero geometry errors (no lost particles)
 5. All 10 statistical checks passing
 6. Complete documentation of generation process

 ✅ Demonstrates:

 - mcnp-input-builder: Can create complete input structure
 - mcnp-geometry-builder: Can design complex 3-level geometry
 - mcnp-material-builder: Can specify complex salt compositions
 - mcnp-lattice-builder: Can create graphite lattice correctly
 - mcnp-source-builder: Can set up KCODE criticality
 - mcnp-physics-builder: Can specify thermal scattering, temperature
 - All validators: Can catch errors before MCNP execution

 ✅ Proof of Capability:

 - Model built from zero - not adapted from existing file
 - Different reactor type (liquid fuel vs GT-MHR solid fuel)
 - Matches published benchmark within expected tolerances
 - Demonstrates true design → MCNP workflow

 ---
 Estimated Effort

 - Phase 1 (Design spec): 2 hours
 - Phase 2 (Model generation): 3-4 hours
 - Phase 3 (Validation): 2 hours
 - Phase 4 (Documentation): 1 hour
 - Phase 5 (Benchmark comparison): 1 hour

 Total: 9-10 hours

 ---
 Key References

 1. ORNL-TM-728: MSRE Design and Operations Report, Part I (Robertson, 1965)
 2. ORNL-TM-732: MSRE Design and Operations Report, Part V (Beall et al., 1964)
 3. IRPhEP Handbook 2019: MSRE-MSR-RESR-001 benchmark
 4. ScienceDirect: "Evaluation of SCALE, Serpent, and MCNP for Molten Salt Reactor applications using the MSRE Benchmark" (2023)
 5. INL/ANL Reports: MSRE SAM model documentation